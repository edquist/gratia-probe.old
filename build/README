Probe area packaging build instructions.
----------------------------------------

1) The script package-probe will create tarfiles for each directory
   mentioned. Example usage:

     build/package-probe 0.9c common condor psacct pbs-lsf


2) Do not build as ROOT! Create a file ~/.rpmmacros as follows:

%_topdir <my-rpmbuild-dir>

   Then, create the structure:

#!/bin/bash
cd /usr/src/redhat
cat <<EOF | cpio -pmudv ~/my-rpmbuild-dir
BUILD
`ls -1d RPMS/*`
RPM
SOURCES
SPECS
SRPMS
EOF


3) The tarfiles created in step 1 should be moved into the SOURCES area
   of your RPM build tree; the populate_SOURCES script is provided for
   this purpose. Example usage:

     build/populate_SOURCES -r ~/rpmbuild


4) Use the RPM SPEC file in build/ to create the RPMs. Note that the
   Version: tag must match the version used in the invocation of the
   package-probe command (0.9c in the example above). An example
   command:

     rpmbuild -ba --target=noarch <spec-file>

   Note: this will build the non-arch-specific RPMs (everything except
   the pbs-lsf probe). Remove the --target option to build the pbs-lsf
   probe for the current architecture (eg i386).


5) Don't forget to customize Version:, Release:, Vendor: and Packager:
   as appropriate. Please use the following convention:

   *) Only package RPMs from an already-tagged release in CVS (eg 0.9c
   above).

   *) The Version: tag in the .spec file must match the version used in
   the package-probe invocation above, and by implication, the CVS tag.

   *) The version of the software being packaged should be bumped and
   Release: reset to 1 if the contents of the tarballs have changed in
   any way; conversely, if the RPM content has changed but the tarballs
   have not (addition of a patch or changes to scriptlets or package
   descriptions), it is the Release: number that should be bumped.


------------------------------------
2006/08/30 CHG
